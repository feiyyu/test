Function: sub_4640 (0x4640)
Architecture: 64-bit
Segment range: 0x4640 - 0x474C
----------------------------------------

..text:0000000000004640       SUB             SP, SP, #0x20
..text:0000000000004644       ASR             W2, W1, #0x1F
..text:0000000000004648       LSR             W2, W2, #0x1B
..text:000000000000464C       STP             X19, X20, [SP,#0x20+var_20]
..text:0000000000004650       ADD             W19, W1, W2
..text:0000000000004654       MOV             X20, X0
..text:0000000000004658       AND             W19, W19, #0x1F
..text:000000000000465C       STR             X30, [SP,#0x20+var_10]
..text:0000000000004660       SUB             W19, W2, W19
..text:0000000000004664       ADD             W19, W19, #0x40 ; '@'
..text:0000000000004668       ADD             W19, W19, W1
..text:000000000000466C       SBFIZ           X0, X19, #3, #0x20 ; ' '; byte_count
..text:0000000000004670       BL              .malloc
..text:0000000000004674       STR             X0, [X20,#0x10]
..text:0000000000004678       MOV             X3, X0
..text:000000000000467C       CBZ             X0, loc_4744
..text:0000000000004680       STR             WZR, [X20]
..text:0000000000004684       CMP             W19, WZR
..text:0000000000004688       STR             W19, [X20,#4]
..text:000000000000468C       STR             WZR, [X20,#8]
..text:0000000000004690       B.LE            loc_46F4
..text:0000000000004694       SUB             W1, W19, #2
..text:0000000000004698       SUB             W0, W19, #1
..text:000000000000469C       LSR             W1, W1, #1
..text:00000000000046A0       CMP             W0, #2
..text:00000000000046A4       ADD             W1, W1, #1
..text:00000000000046A8       LSL             W2, W1, #1
..text:00000000000046AC       B.LS            loc_4724
..text:00000000000046B0       ADR             X5, xmmword_4750
..text:00000000000046B4       MOV             X4, X3
..text:00000000000046B8       MOV             W0, #0
..text:00000000000046BC       LDR             Q0, [X5]
..text:00000000000046C0       STR             Q0, [X4],#0x10
..text:00000000000046C4       ADD             W0, W0, #1
..text:00000000000046C8       CMP             W1, W0
..text:00000000000046CC       B.HI            loc_46C0
..text:00000000000046D0       CMP             W19, W2
..text:00000000000046D4       MOV             W1, W2
..text:00000000000046D8       B.EQ            loc_46F4
..text:00000000000046DC       SBFIZ           X0, X1, #3, #0x20 ; ' '
..text:00000000000046E0       ADD             W4, W1, #1
..text:00000000000046E4       MOV             X2, #1
..text:00000000000046E8       CMP             W19, W4
..text:00000000000046EC       STR             X2, [X3,X0]
..text:00000000000046F0       B.GT            loc_4708
..text:00000000000046F4       MOV             W0, #0
..text:00000000000046F8       LDP             X19, X20, [SP,#0x20+var_20]
..text:00000000000046FC       LDR             X30, [SP,#0x20+var_10]
..text:0000000000004700       ADD             SP, SP, #0x20 ; ' '
..text:0000000000004704       RET
..text:0000000000004708       ADD             X3, X3, X0
..text:000000000000470C       ADD             W1, W1, #2
..text:0000000000004710       CMP             W19, W1
..text:0000000000004714       STR             X2, [X3,#8]
..text:0000000000004718       B.LE            loc_46F4
..text:000000000000471C       STR             X2, [X3,#0x10]
..text:0000000000004720       B               loc_46F4
..text:0000000000004724       MOV             W1, #0
..text:0000000000004728       MOV             X2, #1
..text:000000000000472C       SBFIZ           X0, X1, #3, #0x20 ; ' '
..text:0000000000004730       ADD             W4, W1, #1
..text:0000000000004734       CMP             W19, W4
..text:0000000000004738       STR             X2, [X3,X0]
..text:000000000000473C       B.LE            loc_46F4
..text:0000000000004740       B               loc_4708
..text:0000000000004744       MOV             W0, #0xFFFFFFFE
..text:0000000000004748       B               loc_46F8
